{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tdasu\\\\OneDrive\\\\Documents\\\\PUSL3190\\\\PUSL3190-SolarSage-Adviser\\\\frontend\\\\src\\\\Components\\\\ClientDetails.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useClientsContext } from \"../hooks/useClientsContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ClientDetails = _ref => {\n  _s();\n\n  let {\n    client\n  } = _ref;\n  const {\n    dispatch\n  } = useClientsContext();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [updatedClient, setUpdatedClient] = useState({ ...client\n  });\n\n  const handleClick = async () => {\n    const response = await fetch('/api/clients/' + client._id, {\n      method: 'DELETE'\n    });\n    const json = await response.json();\n\n    if (response.ok) {\n      dispatch({\n        type: 'DELETE_CLIENT',\n        payload: json\n      });\n    }\n  };\n\n  const handleEdit = () => {\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n  };\n\n  const handleUpdateClient = async () => {\n    const response = await fetch('/api/clients/' + client._id, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(updatedClient)\n    });\n    const json = await response.json();\n\n    if (response.ok) {\n      dispatch({\n        type: 'UPDATE_CLIENT',\n        payload: json\n      });\n      setIsModalOpen(false);\n    }\n  };\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUpdatedClient(prevClient => ({ ...prevClient,\n      [name]: value\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"project-details\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: client.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"ID-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 16\n      }, this), client.id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Address     -\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 16\n      }, this), client.address]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Description -\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 16\n      }, this), client.contact]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"material-symbols-outlined\",\n      onClick: handleEdit,\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"material-symbols-outlined\",\n      onClick: handleClick,\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), isModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"close\",\n          onClick: handleCloseModal,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Edit Client Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            value: updatedClient.name,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Address:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"address\",\n            value: updatedClient.address,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Contact:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"contact\",\n            value: updatedClient.contact,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleUpdateClient,\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ClientDetails, \"cKs811Wg8Qt7sN6sUQc0qYHfeKY=\", false, function () {\n  return [useClientsContext];\n});\n\n_c = ClientDetails;\nexport default ClientDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClientDetails\");","map":{"version":3,"names":["useState","useClientsContext","ClientDetails","client","dispatch","isModalOpen","setIsModalOpen","updatedClient","setUpdatedClient","handleClick","response","fetch","_id","method","json","ok","type","payload","handleEdit","handleCloseModal","handleUpdateClient","headers","body","JSON","stringify","handleChange","e","name","value","target","prevClient","id","address","contact"],"sources":["C:/Users/tdasu/OneDrive/Documents/PUSL3190/PUSL3190-SolarSage-Adviser/frontend/src/Components/ClientDetails.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useClientsContext } from \"../hooks/useClientsContext\"\r\n\r\nconst ClientDetails = ({ client }) => {\r\n    const { dispatch } = useClientsContext();\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [updatedClient, setUpdatedClient] = useState({ ...client });\r\n\r\n    const handleClick = async () => {\r\n        const response = await fetch('/api/clients/' + client._id, {\r\n            method: 'DELETE'\r\n        });\r\n        const json = await response.json();\r\n\r\n        if (response.ok) {\r\n            dispatch({ type: 'DELETE_CLIENT', payload: json });\r\n        }\r\n    };\r\n\r\n    const handleEdit = () => {\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setIsModalOpen(false);\r\n    };\r\n\r\n    const handleUpdateClient = async () => {\r\n        const response = await fetch('/api/clients/' + client._id, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(updatedClient),\r\n        });\r\n        const json = await response.json();\r\n\r\n        if (response.ok) {\r\n            dispatch({ type: 'UPDATE_CLIENT', payload: json });\r\n            setIsModalOpen(false);\r\n        }\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setUpdatedClient((prevClient) => ({\r\n            ...prevClient,\r\n            [name]: value,\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <div className=\"project-details\">\r\n            <h4>{client.name}</h4>\r\n            <p><strong>ID-</strong>{client.id}</p>\r\n            <p><strong>Address     -</strong>{client.address}</p>\r\n            <p><strong>Description -</strong>{client.contact}</p>\r\n            <span className=\"material-symbols-outlined\" onClick={handleEdit}>Edit</span>\r\n            <span className=\"material-symbols-outlined\" onClick={handleClick}>Delete</span>\r\n            {isModalOpen && (\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-content\">\r\n                        <span className=\"close\" onClick={handleCloseModal}>&times;</span>\r\n                        <h2>Edit Client Details</h2>\r\n                        <form>\r\n                            <label>Name:</label>\r\n                            <input type=\"text\" name=\"name\" value={updatedClient.name} onChange={handleChange} />\r\n                            <label>Address:</label>\r\n                            <input type=\"text\" name=\"address\" value={updatedClient.address} onChange={handleChange} />\r\n                            <label>Contact:</label>\r\n                            <input type=\"text\" name=\"contact\" value={updatedClient.contact} onChange={handleChange} />\r\n                            <button type=\"button\" onClick={handleUpdateClient}>Update</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ClientDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}